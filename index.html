<!DOCTYPE html>
<html lang="az">
<head>
  <meta charset="UTF-8" />
  <title>ApnaTheatre</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    .ad-space {
      width: 100%;
      height: 90px;
      background: #ececec;
      margin: 20px 0;
      text-align: center;
      line-height: 90px;
      font-size: 18px;
      color: #333;
      border: 1px dashed #ccb;
    }
    .modal {
      display: none;
      position: fixed;
      left:0; right:0; top:0; bottom:0;
      background: rgba(0,0,0,0.7);
      justify-content: center; align-items: center;
      z-index: 9999;
    }
    .modal.active { display: flex; }
    .modal-content {
      background: #fff;
      padding: 20px;
      width: 90%; max-width: 700px;
      border-radius: 10px;
      position: relative;
    }
    .modal-close { position:absolute; top:10px;right:20px;cursor:pointer;font-size:30px;}
  </style>
</head>
<body>
  <!-- Dil Seçimi -->
  <div style="text-align:right;margin:10px;">
    <select id="lang-switcher">
      <option value="az">AZ</option>
      <option value="tr">TR</option>
      <option value="en">EN</option>
    </select>
  </div>

  <!-- Reklam -->
  <div class="ad-space" data-i18n="ad_space">Reklam üçün boşluq</div>

  <!-- Filmlər -->
  <div id="movies-container" style="display:flex; flex-wrap:wrap; gap:20px;">
    <!-- Filmlər JS ilə əlavə ediləcək -->
  </div>
  
  <!-- Reklam -->
  <div class="ad-space" data-i18n="ad_space">Reklam üçün aşağı hissədə boşluq</div>

  <!-- Trailer və Detallar üçün Modal -->
  <div class="modal" id="movie-modal">
    <div class="modal-content">
      <span class="modal-close" id="modal-close">&times;</span>
      <h2 id="modal-title"></h2>
      <p id="modal-synopsis"></p>
      <p><b data-i18n="genre_label">Janr:</b> <span id="modal-genre"></span> | <b data-i18n="year_label">İl:</b> <span id="modal-year"></span></p>
      <div style="margin:10px 0;" id="modal-trailer"></div>
      <div><a id="modal-download" href="#" target="_blank" data-i18n="download_btn">Yüklə</a></div>
    </div>
  </div>

  <script>
    // Nümunə film məzmunu (JSON kimi, normalda serverdən gələ bilər)
    const movies = [
      {
        title: { az: "Dəmir Adam", tr: "Demir Adam", en: "Iron Man" },
        synopsis: {
          az: "Güclü zirehli qəhrəman ...", 
          tr: "Güçlü zırhlı kahraman ...", 
          en: "A powerful armored hero ..."
        },
        genre: "Action",
        year: "2008",
        img: "./Images/ironman.jpg",
        trailer: "https://www.youtube.com/embed/8hYlB38asDY",
        download: "#"
      },
      // ... digər filmlər
    ];

    // Çoxdilli mətnlər 
    const i18n = {
      az: {
        ad_space: "Reklam üçün boşluq",
        genre_label: "Janr:",
        year_label: "İl:",
        download_btn: "Yüklə"
      },
      tr: {
        ad_space: "Reklam alanı",
        genre_label: "Tür:",
        year_label: "Yıl:",
        download_btn: "İndir"
      },
      en: {
        ad_space: "Ad Space",
        genre_label: "Genre:",
        year_label: "Year:",
        download_btn: "Download"
      }
    };

    // Filmləri əlavə et
    function renderMovies(lang) {
      const container = document.getElementById('movies-container');
      container.innerHTML = "";
      movies.forEach((movie, idx) => {
        const el = document.createElement('div');
        el.style.width = "180px";
        el.style.cursor = "pointer";
        el.innerHTML = `
          <img src="${movie.img}" style="width:180px;height:250px;object-fit:cover;border-radius:9px" />
          <div style="text-align:center;">
            <h3>${movie.title[lang]}</h3>
          </div>
        `;
        el.onclick = () => openModal(idx, lang);
        container.appendChild(el);
      });
    }

    function openModal(idx, lang) {
      const movie = movies[idx];
      document.getElementById('modal-title').textContent = movie.title[lang];
      document.getElementById('modal-synopsis').textContent = movie.synopsis[lang];
      document.getElementById('modal-genre').textContent = movie.genre;
      document.getElementById('modal-year').textContent = movie.year;
      document.getElementById('modal-trailer').innerHTML = `
        <iframe width="100%" height="315" src="${movie.trailer}" frameborder="0" allowfullscreen></iframe>
      `;
      document.getElementById('modal-download').href = movie.download;
      document.getElementById('movie-modal').classList.add('active');
    }
    document.getElementById('modal-close').onclick = () => {
      document.getElementById('movie-modal').classList.remove('active');
      document.getElementById('modal-trailer').innerHTML = '';
    };

    // Dil seçimi
    function setLang(lang) {
      renderMovies(lang);
      for(const key in i18n[lang]){
        document.querySelectorAll(`[data-i18n="${key}"]`).forEach(el => el.textContent = i18n[lang][key]);
      }
    }
    document.getElementById('lang-switcher').onchange = function(){
      setLang(this.value);
    };

    setLang('az'); // ilkin olaraq az dilində
  </script>
</body>
</html>
